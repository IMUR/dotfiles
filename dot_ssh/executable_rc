#!/bin/sh
# ~/.ssh/rc - Runs for ALL SSH sessions (including non-login, non-interactive)
# Purpose: Ensure PATH is set for remote commands like:
#   - ssh crtr 'chezmoi update'
#   - ansible crtr -m shell -a 'command'
#   - git operations over SSH
#
# Note: This is necessary because non-interactive SSH sessions don't source
# .profile or .zshrc, so tools in ~/.cargo/bin, ~/.local/bin won't be found

# Source profile to get PATH and environment variables
# This is the critical part that makes remote commands work
if [ -f "$HOME/.profile" ]; then
    . "$HOME/.profile" >/dev/null 2>&1
fi