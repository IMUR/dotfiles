---
# Domain routing configuration for cooperator
# Schema: .meta/schemas/domain.schema.json
# Source: COOPERATOR-ASPECTS.md

gateway_ip: 192.168.254.10
external_target: crtrcooperator.duckdns.org

domains:
  # Cooperator Services
  - fqdn: dns.ism.la
    service: pihole
    backend: localhost:8080
    type: standard
    local_ip: 192.168.254.10
    external_dns: true

  - fqdn: mng.ism.la
    service: cockpit
    backend: https://localhost:9090
    type: https_backend
    tls_skip_verify: true
    local_ip: 192.168.254.10
    external_dns: true

  - fqdn: smp.ism.la
    service: semaphore
    backend: localhost:3000
    type: standard
    local_ip: 192.168.254.10
    external_dns: true

  - fqdn: ssh.ism.la
    service: gotty
    backend: localhost:7681
    type: websocket
    local_ip: 192.168.254.10
    external_dns: true

  - fqdn: n8n.ism.la
    service: n8n
    backend: localhost:5678
    type: sse
    local_ip: 192.168.254.10
    external_dns: true

  - fqdn: sch.ism.la
    service: searxng
    backend: localhost:8083
    type: standard
    local_ip: 192.168.254.10
    external_dns: true

  # Projector Services (Proxied)
  - fqdn: acn.ism.la
    service: archon
    backend: 192.168.254.20:3737
    type: standard
    local_ip: 192.168.254.10
    external_dns: true

  - fqdn: api.ism.la
    service: archon
    backend: 192.168.254.20:3737
    type: standard
    local_ip: 192.168.254.10
    external_dns: true

  - fqdn: dtb.ism.la
    service: database
    backend: 192.168.254.20:54321
    type: standard
    local_ip: 192.168.254.10
    external_dns: true

  - fqdn: mcp.ism.la
    service: mcp
    backend: 192.168.254.20:8051
    type: standard
    local_ip: 192.168.254.10
    external_dns: true

  - fqdn: cht.ism.la
    service: openwebui
    backend: localhost:8082
    type: websocket
    http_version: "1.1"
    local_ip: 192.168.254.10
    external_dns: true
    notes: "Requires HTTP/1.1 for WebSocket (Socket.IO) support"

  # ESP32 Devices
  - fqdn: btr.ism.la
    service: barter
    backend: 192.168.254.123:80
    type: standard
    local_ip: 192.168.254.10
    external_dns: true
    notes: "ESP32-S3 barter controller, MAC 30:ed:a0:2a:24:64"
