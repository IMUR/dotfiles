# Infrastructure Single Source of Truth
# Auto-generated from live infrastructure
# Last discovered: 2025-10-07T00:35:44Z
#
# This file is the authoritative source for:
# - DNS records (from GoDaddy API)
# - Hardware specifications (from SSH queries)
# - Running services (from systemd/Docker)
# - Network configuration
#
# Validate with: ./scripts/ssot/validate-truth.sh
# Update with: ./scripts/ssot/discover-truth.sh

metadata:
  version: "1.0.0"
  last_discovered: "2025-10-07T00:35:44Z"
  discovery_method: "automated"
  collectors_used:
    - godaddy-api
    - ssh-hardware
    - ssh-services
  validation_required: true

dns:
  provider: godaddy
  domain: ism.la
  records:
    - type: TYPE
      name: NAME
      value: DATA
      ttl: TTL
    - type: A
      name: @
      value: 47.154.26.190
      ttl: 3600
    - type: NS
      name: @
      value: pdns03.domaincontrol.com
      ttl: 3600
    - type: NS
      name: @
      value: pdns04.domaincontrol.com
      ttl: 3600
    - type: CNAME
      name: acn
      value: crtrcooperator.duckdns.org
      ttl: 3600
    - type: CNAME
      name: api
      value: crtrcooperator.duckdns.org
      ttl: 3600
    - type: CNAME
      name: btr
      value: crtrcooperator.duckdns.org
      ttl: 3600
    - type: CNAME
      name: cfg
      value: crtrcooperator.duckdns.org
      ttl: 3600
    - type: CNAME
      name: cht
      value: crtrcooperator.duckdns.org
      ttl: 3600
    - type: CNAME
      name: dns
      value: crtrcooperator.duckdns.org
      ttl: 3600
    - type: CNAME
      name: dtb
      value: crtrcooperator.duckdns.org
      ttl: 3600
    - type: CNAME
      name: mcp
      value: crtrcooperator.duckdns.org
      ttl: 3600
    - type: CNAME
      name: mng
      value: crtrcooperator.duckdns.org
      ttl: 3600
    - type: CNAME
      name: n8n
      value: crtrcooperator.duckdns.org
      ttl: 3600
    - type: CNAME
      name: sch
      value: crtrcooperator.duckdns.org
      ttl: 3600
    - type: CNAME
      name: ssh
      value: crtrcooperator.duckdns.org
      ttl: 3600
    - type: CNAME
      name: _domainconnect
      value: _domainconnect.gd.domaincontrol.com
      ttl: 3600
    - type: TXT
      name: @
      value: v=spf1
      ttl: include:dc-aa8e722993._spfm.ism.la ~all 3600
    - type: TXT
      name: dc-aa8e722993._spfm
      value: v=spf1
      ttl: include:_spf.google.com ~all      3600
    - type: [0;32mâœ“
      name: Retrieved
      value: 18
      ttl: records[0m

nodes:
  crtr:
    network:
      hostname: cooperator
      ip: 192.168.254.10
      role: gateway

    hardware:
      architecture: aarch64
      cpu: "Cortex-A76"
      cores: 4
      ram: "15Gi"
      storage: "91G"

    services:
      docker:
        version: "28.5.0"
        containers:
          - n8n

      systemd:
        []

  prtr:
    network:
      hostname: projector
      ip: 192.168.254.20
      role: compute

    hardware:
      architecture: x86_64
      cpu: "Intel(R) Core(TM) i9-9900X CPU @ 3.50GHz"
      cores: 20
      ram: "125Gi"
      storage: "889G"
      gpu:
        - "NVIDIA GeForce GTX 970"
        - "NVIDIA GeForce GTX 1080"
        - "NVIDIA GeForce GTX 1080"
        - "NVIDIA GeForce GTX 970"

    services:
      docker:
        version: "28.5.0"
        containers:
          []

      systemd:
        - containerd.service

  drtr:
    network:
      hostname: director
      ip: 192.168.254.30
      role: ml_platform

    hardware:
      architecture: x86_64
      cpu: "Intel(R) Core(TM) i9-9900K CPU @ 3.60GHz"
      cores: 16
      ram: "62Gi"
      storage: "889G"

    services:
      docker:
        version: "26.1.5+dfsg1"
        containers:
          []

      systemd:
        - bluetooth.service

validation:
  last_validated: null
  validation_status: pending
  validation_hash: null

  rules:
    - "DNS records must match GoDaddy API"
    - "Hardware specs must match SSH queries"
    - "Services must be running as listed"
    - "Network configuration must be reachable"

# Note: This file should be validated regularly using:
#   ./scripts/ssot/validate-truth.sh
#
# To update this file with current infrastructure state:
#   ./scripts/ssot/discover-truth.sh
