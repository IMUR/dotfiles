# Chezmoi Configuration Template for Co-lab Cluster Nodes
# Simplified universal configuration without node-specific settings

[data]
    # Node identification
    # Use output "hostname" to avoid DNS resolution issues (e.g., git.ism.la â†’ 127.0.0.1)
    hostname = {{ output "hostname" | trim | quote }}
    arch = {{ .chezmoi.arch | quote }}

    # Architecture-specific flags
    # Note: chezmoi normalizes aarch64 to arm64
    is_arm64 = {{ or (eq .chezmoi.arch "aarch64") (eq .chezmoi.arch "arm64") }}
    is_x86_64 = {{ or (eq .chezmoi.arch "x86_64") (eq .chezmoi.arch "amd64") }}

# Chezmoi behavior configuration
[edit]
    command = "vim"
    
[merge]
    command = "vimdiff"

# Template data sources
[data.cluster]
    nas_path = "/cluster-nas"
    domain = "ism.la"
    network = "192.168.254.0/24"
