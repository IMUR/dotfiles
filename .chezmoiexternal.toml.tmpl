# Chezmoi External Dependencies
# Manages Zsh plugins declaratively - pulled on `chezmoi apply`
# Pin versions explicitly to avoid drift

# =============================================================================
# ZSH PLUGINS
# =============================================================================
# Install location: ~/.local/share/zsh/plugins/
# Sourcing order in .zshrc: compinit → autosuggestions → fzf-tab → syntax-highlighting

[".local/share/zsh/plugins/zsh-autosuggestions"]
type = "archive"
url = "https://github.com/zsh-users/zsh-autosuggestions/archive/refs/tags/v0.7.1.tar.gz"
exact = true
stripComponents = 1
refreshPeriod = "168h"  # Check weekly

[".local/share/zsh/plugins/zsh-syntax-highlighting"]
type = "archive"
url = "https://github.com/zsh-users/zsh-syntax-highlighting/archive/refs/tags/0.8.0.tar.gz"
exact = true
stripComponents = 1
refreshPeriod = "168h"

[".local/share/zsh/plugins/fzf-tab"]
type = "archive"
url = "https://github.com/Aloxaf/fzf-tab/archive/refs/tags/v1.2.0.tar.gz"
exact = true
stripComponents = 1
refreshPeriod = "168h"

# =============================================================================
# LIGHTPANDA BROWSER
# =============================================================================
# Headless browser for web automation (puppeteer/playwright compatible)
# https://lightpanda.io

{{- if eq .chezmoi.os "linux" }}
{{-   if eq .chezmoi.arch "amd64" }}
[".local/bin/lightpanda"]
type = "file"
url = "https://github.com/lightpanda-io/browser/releases/download/nightly/lightpanda-x86_64-linux"
executable = true
refreshPeriod = "168h"
{{-   else if eq .chezmoi.arch "arm64" }}
[".local/bin/lightpanda"]
type = "file"
url = "https://github.com/lightpanda-io/browser/releases/download/nightly/lightpanda-aarch64-linux"
executable = true
refreshPeriod = "168h"
{{-   end }}
{{- else if eq .chezmoi.os "darwin" }}
{{-   if eq .chezmoi.arch "arm64" }}
[".local/bin/lightpanda"]
type = "file"
url = "https://github.com/lightpanda-io/browser/releases/download/nightly/lightpanda-aarch64-macos"
executable = true
refreshPeriod = "168h"
{{-   else }}
[".local/bin/lightpanda"]
type = "file"
url = "https://github.com/lightpanda-io/browser/releases/download/nightly/lightpanda-x86_64-macos"
executable = true
refreshPeriod = "168h"
{{-   end }}
{{- end }}
